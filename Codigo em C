// Estruturas basicas e dados para teste
#include <stdio.h>
#include <stdlib.h>
#include <string.h>

#define MAX_PRODUTOS 50

typedef struct {
    int codigo;
    char nome[50];
    char categoria[30];
    float preco;
    int quantidade;
    int estoque_minimo;
} Produto;

Produto produtos[MAX_PRODUTOS];
int total_produtos = 0;

void carregarDadosExemplo() {
    Produto exemplos[] = {
        {1, "Notebook Dell", "Eletronicos", 2500.00, 5, 2},
        {2, "Mouse Logitech", "Eletronicos", 89.90, 15, 5},
        {3, "Teclado Mecanico", "Eletronicos", 199.90, 8, 3},
        {4, "Caderno Universitario", "Papelaria", 24.90, 50, 10},
        {5, "Caneta Esferografica", "Papelaria", 2.50, 200, 50}
    };
    
    total_produtos = 5;
    for(int i = 0; i < total_produtos; i++) {
        produtos[i] = exemplos[i];
    }
}

void limparBuffer() {
    int c;
    while ((c = getchar()) != '\n' && c != EOF);
}

void mostrarMenu() {
    printf("\n=== SISTEMA DE ESTOQUE ===\n");
    printf("1. Listar Produtos\n");
    printf("0. Sair\n");
    printf("Escolha uma opcao: ");
}

int main() {
    carregarDadosExemplo();
    
    printf("SISTEMA DE CONTROLE DE ESTOQUE\n");
    printf("%d produtos carregados\n\n", total_produtos);
    
    int opcao;
    
    do {
        mostrarMenu();
        scanf("%d", &opcao);
        limparBuffer();
        
        if(opcao == 1) {
            printf("\nLista de produtos em desenvolvimento...\n");
        } else if(opcao == 0) {
            printf("Saindo...\n");
        } else {
            printf("Opcao invalida!\n");
        }
        
    } while(opcao != 0);
    
    return 0;
}

// Sistema de listagem

void listarProdutos() {
    printf("\n=== LISTA DE PRODUTOS ===\n");
    for(int i = 0; i < total_produtos; i++) {
        printf("%d. %s | %s | R$ %.2f | %d unidades\n",
               produtos[i].codigo,
               produtos[i].nome,
               produtos[i].categoria,
               produtos[i].preco,
               produtos[i].quantidade);
    }
}

void mostrarMenu() {
    printf("\n=== SISTEMA DE ESTOQUE ===\n");
    printf("1. Listar Produtos\n");
    printf("0. Sair\n");
    printf("Escolha uma opcao: ");
}

int main() {
    carregarDadosExemplo();
    
    printf("SISTEMA DE CONTROLE DE ESTOQUE\n");
    printf("%d produtos carregados\n\n", total_produtos);
    
    int opcao;
    
    do {
        mostrarMenu();
        scanf("%d", &opcao);
        limparBuffer();
        
        switch(opcao) {
            case 1:
                listarProdutos();
                break;
            case 0:
                printf("Saindo...\n");
                break;
            default:
                printf("Opcao invalida!\n");
        }
        
    } while(opcao != 0);
    
    return 0;
}

// Sistema de busca basica

void buscarProduto() {
    char termo[50];
    printf("\nDigite o nome do produto: ");
    scanf("%49s", termo);
    limparBuffer();
    
    printf("\nResultados para '%s':\n", termo);
    int encontrados = 0;
    
    for(int i = 0; i < total_produtos; i++) {
        if(strstr(produtos[i].nome, termo) != NULL) {
            printf("- %s | %s | R$ %.2f | %d unidades\n",
                   produtos[i].nome,
                   produtos[i].categoria,
                   produtos[i].preco,
                   produtos[i].quantidade);
            encontrados++;
        }
    }
    
    if(encontrados == 0) {
        printf("Nenhum produto encontrado.\n");
    }
}

void mostrarMenu() {
    printf("\n=== SISTEMA DE ESTOQUE ===\n");
    printf("1. Listar Produtos\n");
    printf("2. Buscar Produto\n");
    printf("0. Sair\n");
    printf("Escolha uma opcao: ");
}

